(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,a,t){},132:function(e,a,t){},134:function(e,a,t){},137:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(29),o=t.n(l),i=(t(72),t(13)),s=t(14),c=t(16),m=t(15),h=t(17),d=(t(74),t(153)),u=t(147),p=t(154),f=t(155),b=t(151),g=t(148),w=t(149),y=t(128),E=t(140),v=t(139),N=t(131),k=t(141),_=(t(76),t(150)),x=function(e){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(v.a,{xs:6,md:3},n.a.createElement(_.a,{className:"team-intro"},n.a.createElement(_.a.Body,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12},n.a.createElement("img",{className:"rounded-circle",src:this.props.member.img,alt:this.props.member.alt})),n.a.createElement(v.a,{xs:12},n.a.createElement("h3",{className:"team-names"},this.props.member.name))))))}}]),a}(r.Component),F=[{name:"Sam Otto",img:"./img/me_1.jpg",alt:"Sam standing by tree"},{name:"Namam Mehra",img:"./img/namam.jpeg",alt:"Picture of team member Namam"},{name:"Josiah Chapman",img:"./img/josiah.jpeg",alt:"Picture of team member Josiah"},{name:"Bao Dinh",img:"./img/bao.JPG",alt:"Picture of team member Bao"}],O=function(e){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(k.a,null,n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("h1",null,"Research Question")),n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("p",{className:"jumbotron-para"},"Do quantifiable attributes of a homebrew recipe (such as fermentables, hop type, etc.) influence a beer\u2019s popularity?"))))),n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12},n.a.createElement("h2",null,"Background"),n.a.createElement("p",{className:"normal-para"},"Homebrewing is a hobby that has been gaining traction recently - the activity has a long and storied history, stretching back thousands of years, and is now embraced by people in the lab and garage alike. There are many different approaches, starting points, and strategies, but it all boils down to taking an unfermented grain derivative and turning it into beer (as if, as was previously thought, by magic). As it turns out, this is a rather complicated undertaking, and there are many communities devoted to figuring out how to brew good beer. These communities can be found everywhere from the university, to the dive bar, and the pursuit of brewing perfection pervades research papers as much as online forums."),n.a.createElement("p",{className:"normal-para"},"Chemists seem especially drawn to brewing, since, unlike most industrial fermentation processes designed to produce one thing in quantity which is then extracted and purified, beer is itself both the process and the final product - all the byproducts are a part of the beer (Gee & Ramirez, 1994). These chemists came up with a series of mathematical models to predict the growth of yeast and existence of extra flavor compounds such as fusel alcohols and esters in beer. Their models were far more rigorous than previous attempts, and continue to be cited today. They are imperfect, however, and don\u2019t account for everything which can lead to off flavors - in fact, the science behind brewing good beer is incomplete, and new discoveries continue to be made (Olaniran, Hiralal, Mokoena & Pillay, 2017). The aforementioned necessity of by-products in beer and their tenuous relationship with the pallet are responsible for this complexity. For example, according to Olaniran et al. (2017), Isoamyl - which is a higher alcohol produced by yeast as part of the brewing process - is a sought after compound in beer due to its \u201cheavy\u201d effect on taste, but it leads to off flavors if it exceeds \u201c20% of the total amount of n-propanol, isobutyl alcohol and isoamyl alcohol.\u201d Many such balancing acts exist within the brewing process, and the difficulty they impart is exacerbated by the relatively few knobs and dials a brewer has at their disposal."),n.a.createElement("p",{className:"normal-para"},"A brewer bears more resemblance to a zookeeper than a cook, as their most important job is to keep the yeast happy, healthy, and entertained with the proper substances. Since the yeast is doing all the real work - eating, excreting, and eventually lying dormant at the bottom of a bottle (in this they bear a striking resemblance to the human race) - and since the balance of what they produce and for how long can be impacted by just about everything going on in the wort, every minor tweak to process or ingredient has a cascading effect throughout the beer. Even measuring properties like off flavors is a feat unknown to the bucket-brewer, requiring esoteric knowledge and equipment to even attempt. Marsili et al. (2007) make note that \u201cBeer contains dozens of odor active chemical components in concentrations ranging from percent to parts-per-trillion (ppt)\u201c as they propose a new method of quantitatively measuring off flavors in beer. Because the typical homebrewer cannot be expected to measure variation in compounds which are described in ppt, or understand the inner workings of a polydimethylsiloxane extraction, they are restricted to highly subjective qualitative analysis. Such analysis usually takes the form of \u201cthis tastes good,\u201d or \u201cthis tastes like the inside of a shoe,\u201d which is not especially useful except when taken in aggregate."),n.a.createElement("p",{className:"normal-para"},"As mentioned previously, a brewer has at their fingertips a number of knobs and dials, each of which has a multitude inscrutable, overlapping effects on the final product. These include standardized parameters and measures of the brewing process (such as boil time, original gravity (OG), final gravity (FG), chill method, pitch rate, hopping method, etc.) as well as the ingredients (attenuation, flocculation, yeast type, alpha acid units (AAU\u2019s), hop type, etc.). We propose using these parameters to create a model capable of predicting the final quality of a beer. In doing so we hope to glean some insight into what aspects of the brewing process are most important to the final quality. Since it is almost as difficult to quantitatively assess the quality of the beer (which we define here as the absence of off flavors), we will be using aggregate recipe ratings sourced from a popular homebrew website as our metric. In this way we hope to predict beer quality based on features that a homebrewer has reasonable control over, and provide a utility that they can use to get an idea of how good a recipe might turn out before devoting the time and money required to brew it.")),n.a.createElement(v.a,{xs:12},n.a.createElement("h2",null,"Our Work"),n.a.createElement("p",{className:"normal-para"},"Our work is documented within this ",n.a.createElement("a",{href:"https://github.com/bdinh/LonelyBeachBoys"},"Github Repository"),". Feel free to provide any feedback or suggestions.")),n.a.createElement(v.a,{xs:12},n.a.createElement("h3",null,"Sources"),n.a.createElement("p",null,"Marsili, R. T., Laskonis, L. C., and Kenaan, C. (2007) Evaluation of PDMS-Based Extraction Techniques and GC-TOFMS for the Analysis of Off-Flavor Chemicals in Beer, Journal of the American Society of Brewing Chemists, 65:3, 129-137, DOI: 10.1094/ASBCJ-2007-0617-01"),n.a.createElement("p",null,"Olaniran, A. O., Hiralal, L., Mokoena, M. P., and Pillay, B. (2017) Flavour\u2010active volatile compounds in beer: production, regulation and control. J. Inst. Brew., 123: 13\u201323. doi: 10.1002/jib.389."),n.a.createElement("p",null,"Gee, D. A. and Ramirez, W. F. (1994), A FLAVOUR MODEL FOR BEER FERMENTATION. Journal of the Institute of Brewing, 100: 321-329. doi:10.1002/j.2050-0416.1994.tb00830.x")))),n.a.createElement("div",{className:"div-panel"},n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12},n.a.createElement("h1",{className:"panel-heading"},"Meet the Team"))),n.a.createElement(E.a,null,F.map(function(e,a){return n.a.createElement(x,{key:"member"+a,member:e})})))))}}]),a}(r.Component),A=t(30),j=(t(129),t(142)),T=t(143),B=t(152),M=t(144),R=t(145),S=t(146),W=[[{id:"abv-form",name:"abv",label:"Alcohol by Volume (ABV)"},{id:"ibu-form",name:"ibu",label:"International Bittering Units (IBU)"}],[{id:"og-form",name:"og",label:"Original Gravity"},{id:"fg-form",name:"fg",label:"Final Gravity"}],[{id:"efficiency-form",name:"efficiency",label:"Efficiency"},{id:"ferm-weight-form",name:"totalFerm",label:"Total Fermentable Weight (lb.)"}],[{id:"malt-form",name:"baseMalt",label:"Base Malt Weight (lb.)"},{id:"crystal-weight-form",name:"crystalMalt",label:"Crystal Malt Weight (lb.)"}],[{id:"roasted-weight-form",name:"roastedMalt",label:"Roasted Malt Weight (lb.)"},{id:"other-weight-form",name:"otherFerm",label:"Other Fermentables Weight (lb.)"}],[{id:"extract-weight-form",name:"extract",label:"Extract Weight (lb.)"},{id:"sugar-weight-form",name:"sugars",label:"Sugars Weight (lb.)"}],[{id:"raw-weight-form",name:"rawFerm",label:"Raw Fermentables Weight (lb.)"},{id:"accidulated-weight-form",name:"accidulatedMalt",label:"Accidulated Malt Weight (lb.)"}],[{id:"fruit-weight-form",name:"fruitFerm",label:"Fruit Fermentables Weight (lb.)"},{id:"gluten-free-weight-form",name:"glutenFreeMalt",label:"Gluten-free Malt Weight (lb.)"}],[{id:"pellet-weight-form",name:"pelletHops",label:"Pellet Hops Weight (lb.)"},{id:"whole-weight-form",name:"wholeHops",label:"Whole Hops Weight (lb.)"}],[{id:"plug-weight-form",name:"plugHops",label:"Plug Hops Weight (lb.)"},{id:"attenuation-form",name:"attenRate",label:"Attenuation Rate"}],[{id:"boil-form",name:"boil",label:"Boil Time (Minutes)"},{id:"none",name:"",label:""}]],C=[[{id:"flocculation",name:"flocculation",label:"Flocculation Rate",options:[{value:"low",display:"Low"},{value:"medium",display:"Medium"},{value:"high",display:"High"}]},{id:"method-form",name:"method",label:"Method",options:[{value:"all_grain",display:"All Grain"},{value:"extract",display:"Extract"},{value:"biab",display:"BIAB"},{value:"partial_mash",display:"Partial Mash"}]}],[{id:"spice-form",name:"containSpice",label:"Contains Spices",options:"default"},{id:"water-form",name:"containWater",label:"Contains Water Agents",options:"default"}],[{id:"other-ingredients-form",name:"containOther",label:"Contains Other (non-standard) Ingredients",options:"default"},{id:"fining-form",name:"containFinings",label:"Contains Added Finings",options:"default"}],[{id:"added-flavors-form",name:"containFlavors",label:"Contains Added Flavors",options:"default"},{id:"added-herbs-form",name:"containHerbs",label:"Contains Added Herbs",options:"default"}],[{id:"yeast-form",name:"yeastType",label:"Yeast Type",options:[{value:"liquid",display:"Liquid"},{value:"dry",display:"Dry"}]},{id:"none",name:"",label:"",options:"default"}]],H=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).handleChange=function(e){t.setState(Object(A.a)({},e.target.name,e.target.value))},t.handleButton=function(){var e={};e.abv=parseFloat(t.state.abv),e.ibu=parseFloat(t.state.ibu),e.diff_g=parseFloat(t.state.og)-parseFloat(t.state.fg),e.boil_time=parseFloat(t.state.boil),e.efficiency=parseFloat(t.state.efficiency),e.ferm_total_weight=parseFloat(t.state.totalFerm),e.ferm_type_base_malt=parseFloat(t.state.baseMalt),e.ferm_type_crystal_malt=parseFloat(t.state.crystalMalt),e.ferm_type_roasted_malt=parseFloat(t.state.roastedMalt),e.ferm_type_other=parseFloat(t.state.otherFerm),e.ferm_type_extract=parseFloat(t.state.extract),e.ferm_type_sugar=parseFloat(t.state.sugars),e.ferm_type_raw=parseFloat(t.state.rawFerm),e.ferm_type_acidulated_malt=parseFloat(t.state.accidulatedMalt),e.ferm_type_fruit=parseFloat(t.state.fruitFerm),e.ferm_type_gluten_free_malt=parseFloat(t.state.glutenFreeMalt),e.hops_type_pellet=parseFloat(t.state.pelletHops),e.hops_type_leaf_whole=parseFloat(t.state.wholeHops),e.hops_type_plug=parseFloat(t.state.plugHops),e.other_type_spice="yes"==t.state.containSpice?1:0,e.other_type_water_agt="yes"==t.state.containOther?1:0,e.other_type_other="yes"==t.state.containOther?1:0,e.other_type_fining="yes"==t.state.containFinings?1:0,e.other_type_flavor="yes"==t.state.containFlavors?1:0,e.other_type_herb="yes"==t.state.containHerbs?1:0,e.yeast_attenuation=parseFloat(t.state.attenRate),e.method_all_grain="all_grain"==t.state.method?1:0,e.method_biab="biab"==t.state.method?1:0,e.method_extract="extract"==t.state.method?1:0,e.method_partial_mash="partial_mash"==t.state.method?1:0,e.yeast_form_dry="dry"==t.state.yeastType?1:0,e.yeast_form_liquid="liquid"==t.state.yeastType?1:0,e.yeast_flocculation_high="high"==t.state.flocculation?1:0,e.yeast_flocculation_low="low"==t.state.flocculation?1:0,e.yeast_flocculation_medium="medium"==t.state.flocculation?1:0,fetch("https://api.bdinh.me/v1/beer",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(function(e){if(!e.ok)throw e;return e.json()}).then(function(e){t.setState({predictedScore:e.predicted_popularity}),console.log(e)}).catch(function(e){console.log(e)})},t.getRandomArbitrary=function(e,a){return Math.random()*(a-e)+e},t.getRandomIntInclusive=function(e){return Math.floor(Math.random()*(Math.floor(e)-1))},t.generateRandomValues=function(){t.setState({abv:""+Math.round(100*t.getRandomArbitrary(1,20))/100,ibu:""+Math.round(100*t.getRandomArbitrary(10,80))/100,og:""+Math.round(100*t.getRandomArbitrary(1.05,1.08))/100,fg:""+Math.round(100*t.getRandomArbitrary(1.009,1.02))/100,gravDif:""+Math.round(100*t.getRandomArbitrary(.01,2))/100,boil:""+Math.round(100*t.getRandomArbitrary(30,90))/100,efficiency:""+Math.round(100*t.getRandomArbitrary(60,70))/100,totalFerm:""+Math.round(100*t.getRandomArbitrary(5,20))/100,baseMalt:""+Math.round(100*t.getRandomArbitrary(4,20))/100,crystalMalt:"0",roastedMalt:"0",otherFerm:"0",extract:"0",sugars:"0",rawFerm:"0",accidulatedMalt:"0",fruitFerm:"0",glutenFreeMalt:"0",pelletHops:""+Math.round(100*t.getRandomArbitrary(3,20))/100,wholeHops:"0",plugHops:"0",attenRate:""+Math.round(100*t.getRandomArbitrary(72,83))/100})},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;W.forEach(function(a){a.forEach(function(a){"none"!==a.id&&e.setState(Object(A.a)({},a.name,""))})}),C.forEach(function(a){a.forEach(function(a){"default"===a.options?e.setState(Object(A.a)({},a.name,"yes")):"none"!==a.id&&e.setState(Object(A.a)({},a.name,a.options[0].value))})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(k.a,null,n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("h1",null,"Predictions")),n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("p",{className:"jumbotron-para"},"Create a recipe for yourself - we'll give you a score. If you need help getting started we can initialize some key values for you."))))),n.a.createElement(M.a,{horizontal:!0},W.map(function(a,t){return n.a.createElement(E.a,{key:"text-row-"+t},a.map(function(a){return n.a.createElement(v.a,{xs:6,key:a.name},"none"!==a.id&&function(a){return n.a.createElement(j.a,{controlId:a.id},n.a.createElement(T.a,null,a.label),n.a.createElement(B.a,{type:"text",name:a.name,placeholder:"Enter text",defaultValue:e.state[a.name],onChange:e.handleChange}))}(a))}))}),C.map(function(a,t){return n.a.createElement(E.a,{key:"select-row-"+t},a.map(function(a){return n.a.createElement(v.a,{xs:6,key:a.name},"none"!==a.id&&function(a){return n.a.createElement(j.a,{controlId:a.id},n.a.createElement(T.a,null,a.label),n.a.createElement(B.a,{componentClass:"select",name:a.name,onChange:e.handleChange},"default"!==a.options&&a.options.map(function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.display)}),"default"===a.options&&n.a.createElement("option",{value:"yes"},"Yes"),"default"===a.options&&n.a.createElement("option",{value:"no"},"No")))}(a))}))})),n.a.createElement(R.a,{className:"forms-buttons"},n.a.createElement(S.a,{bsStyle:"warning",bsSize:"large",className:"run-button",onClick:this.generateRandomValues}," Get Started "),n.a.createElement(S.a,{bsStyle:"primary",bsSize:"large",className:"run-button",onClick:this.handleButton}," Run ")),this.state.predictedScore&&n.a.createElement(k.a,null,n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("h1",null," ",this.state.predictedScore>0&&n.a.createElement(N.a,{glyph:"star"}),this.state.predictedScore>1&&n.a.createElement(N.a,{glyph:"star"}),this.state.predictedScore>2&&n.a.createElement(N.a,{glyph:"star"}),this.state.predictedScore>3&&n.a.createElement(N.a,{glyph:"star"}),this.state.predictedScore>4&&n.a.createElement(N.a,{glyph:"star"}))),n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("p",{className:"jumbotron-para rating-jumbo"},"Popularity rating of "+this.state.predictedScore+" out of 5!"))))))}}]),a}(r.Component),I=(t(132),function(e){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(k.a,null,n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("h1",null,"Analysis & Conclusions")),n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("p",{className:"jumbotron-para results-jumbo"},"What to take away from it."))))),n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12},n.a.createElement("h2",null,"Results"),n.a.createElement("p",{className:"normal-para"},"Initially we considered our rating value as a continuous variable since the ratings for recipes were between 0 and 5 with an accuracy of two decimals. With that in mind we decided to use generalized regression models. Since we had such a large dataset with more than 30 features we decided to use SVR and Ridge regressions as well as a Neural Network Regressor. We ran grid search on all of these models to select the best parameters and fine tune the model. However, what resulted was pretty low scores across the board."),n.a.createElement("p",{className:"normal-para"},"Ridge regression gave us a score of 0.02% while SVR fit such a poor model that we received a negative score. The Neural Net Regression yielded an accuracy of 3%, and our best models, random forest and XGBoost regressor, both got 10% accuracy. The models explored in the course of our analysis can be found ",n.a.createElement("a",{href:"https://github.com/bdinh/LonelyBeachBoys/tree/master/models"},"here"),"."),n.a.createElement("p",{className:"normal-para"},"We made the collective decision to transform our outcome variable into a categorical variable. We rounded the rating value to the nearest fourth. For example, 4.14 would be rounded to 4.25. This meant that we broke up the scale of 0 to 5 into 20 even categories. All ratings would fall under one of these bins."),n.a.createElement("p",{className:"normal-para"},"Once this was done, we decided to use classifier models to try to predict the category the ratings belonged in, instead of a continuous number. We used a KNN classifier, which resulted in a 53.05% score, which was a massive improvement, and led us to our final model."),n.a.createElement("img",{src:"./img/model-bar.jpeg"})),n.a.createElement(v.a,{xs:12},n.a.createElement("h2",null,"The Model"),n.a.createElement("p",{className:"normal-para"},"Our final model was a Neural Network Classifier, which achieved a 58.54% accuracy using the following hyperparameters:"),n.a.createElement("ul",null,n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Hidden_layer_sizes"),": 100"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Activation"),": relu"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Solver"),": adam"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Alpha"),": 0.001"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Learning_rate"),": constant"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Random_state"),": 42"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Beta_1"),": 0.07"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Beta_2"),": 0.999"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Early_stopping"),": False")),n.a.createElement("p",{className:"normal-para"},"We trained the model using a 25% test-train-split, and split the training data into 10 different folds for cross-validation. All data was normalized using a min-max scaler prior to being fed through the model."),n.a.createElement("p",{className:"normal-para"},"We had a 60.50% score in the beginning, but after investigating the results we realized the model was only ever predicting 5.0, regardless of features. This was due to the prevalence of high scores in our outcomes, so we changed the activation from logistic to relu, and increased hidden layer size from 10 to 100. After these changes our predictive score went down 2%, but we were predicting a much broader spectrum of scores, so we elected to use this model.")),n.a.createElement(v.a,{xs:12},n.a.createElement("h2",null,"Final Thoughs"),n.a.createElement("p",{className:"normal-para"},"Even though a neural net is something of a black box when it comes to determining which features had an impact on the score, we can say with confidence that the quantifiable features of a homebrew recipe have a measurable effect on a beer\u2019s popularity. The 58.54% accuracy we arrived at is not ideal, but it\u2019s more accurate than a coin flip, and allows us to put some confidence in the model. Using our Neural Net, we set up an interactive app which returns an expected popularity based on the parameters it\u2019s passed. It can be used to gain a rough idea of how good a recipe is before time and money are spent to brew it. Even though it cannot provide recommendations on how the beer could be improved, the score it returns can still be used as an indicator of whether the recipe is good as is, or if it should be improved.")))))}}]),a}(r.Component)),q=(t(134),function(e){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(k.a,null,n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("h1",null,"Collection, Preparation, & Exploration")),n.a.createElement(v.a,{xs:12,md:6},n.a.createElement("p",{className:"jumbotron-para",id:"data-prep-jumbo"},"Find out where everything came from, and what it all means."))))),n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:12},n.a.createElement("h2",null,"Data"),n.a.createElement("p",{className:"normal-para"},"We scraped all our data from ",n.a.createElement("a",{href:"https://www.brewersfriend.com/"},"brewersfriend.com"),", a website dedicated to sharing and rating homebrew recipes. Anyone can add or vote on a recipe, and the available recipes are not curated."),n.a.createElement("h2",null,"Scraping Techniques"),n.a.createElement("p",{className:"normal-para"},"When it came to collecting our data, we had to scrape 5000+ pages of beer recipes formatted in HTML tables. Each page had 20 beer recipes, which resulting in over 100,000 beer recipes that needed to be scrapped. The following is an example of a beer recipe (expanded/not expanded) on Brewers Friend."),n.a.createElement("img",{src:"./img/bf_beer_recipe_example.png"}),n.a.createElement("p",{className:"normal-para"},"In order to gather sufficient information (beer ratings, ingredients used, etc) for each beer recipe, we had to scrape a detailed page of that recipe. This resulted in over 100,000 requests. Our first attempt at this was just to iterate through a list of links in order to scrape the information on that page. This soon proved to be cumbersome as the variance in HTML formatting resulted in unhandled edge cases that would interrupt our process. You can imagine how frustrating this can be when we\u2019ve iterated over a couple thousand links, just to have it error out. After carefully revisiting our script to ensure that we accounted for all cases (at least tried to), we still had the issue of long wait times (~16 hours to scrape 100,000+ links). This was not scalable and restricted us from actually being able to explore our data in attempt to capture some relationship. As a result, we had to utilize multiprocessing in order to scrape on separate processes. This proved to be effective as it shaved down our overall scraping time by a factor of 5 (~3 hours to scrape 100,000+ links)."),n.a.createElement("h2",null,"Feature Abstraction and Engineering"),n.a.createElement("p",{className:"normal-para"},"The final structure of the dataframe varied in some ways from the data on Brewers Friend. Many of the variables we wanted to train our model on were not readily quantifiable. In order to represent this data, we addressed each recipe component in turn and came up with a way to incorporate it into our dataframe."),n.a.createElement("p",{className:"normal-para"},"The Fermentables section lists the many substances which make up the majority of the mash. These substances provide the yeast with sugar, which it turns into ethanol, carbon dioxide, and a number of other by-products. A typical fermentables section on Brewers Friend looks like the following:"),n.a.createElement("img",{src:"./img/Fermentables.png"}),n.a.createElement("p",{className:"normal-para"},"There were too many different ingredients to track all of them, but each ingredient had an associated type. We decided the best way to capture differences between recipe fermentables was to create a variable for each different type of fermentable, e.g. crystal malt, extract, and fruit. We then assigned the value of the combined weight of every fermentable in that category to the variable representing that category - if a recipe called for 2 lbs of Pale 2-Row and 3 lbs of White Wheat (both of which are base malts), the base malt variable for that row would be 5 lbs. By tracking the weight of fermentables in each category, we are able to look at the ratios between each fermentable category while getting rid of the substantial categorical bloat that would come from tracking each individual fermentable name."),n.a.createElement("p",{className:"normal-para"},"The hops category contains pertinent information on alpha acids, hop use, and boil time, as well as which hops and how many to use. Hops lend a beer its bitterness and aroma, and are an important part of the final product. A typical Brewer\u2019s friend hop section looks like the following:"),n.a.createElement("img",{src:"./img/Hops.png"}),n.a.createElement("p",{className:"normal-para"},"All of the hop statistics, such as AA\u2019s, hop use, and boil time are are accounted for in a Beer\u2019s IBU calculation. Because of this, we elected not to include them, and instead use IBUs in their place. We did, however, track the type of hop used (full, pellet, plug), because it could have an impact on the final beer quality. Hop type was tracked in the same manner as fermentables, using a different variable for each type measured in weight."),n.a.createElement("p",{className:"normal-para"},"The other ingredients section listed all the extra ingredients contained within the recipe, which varied by type. There are many different ingredient types and uses, and the section functions as a catch-all location to specify non-standard ingredients. A typical other ingredients section looks like the following:"),n.a.createElement("img",{src:"./img/Other-ingredients.png"}),n.a.createElement("p",{className:"normal-para"},"Instead of creating a categorical variable for each different ingredient, we made a new variable for each type of ingredient, and assigned it 1 or 0 depending on whether the recipe contained an ingredient of that type. If a recipe contained any amount of, say, spices, the spices variable read exactly 1. Notice that unlike fermentables and hops, these variables did not take into account the weight of ingredients in a certain category. This is due to the catch-all-nature of other ingredients. A single ounce of vanilla extract will have a much larger impact on the flavor of a beer than an ounce of ginger since it is a far stronger spice. Both of these would register as an ounce of spice, but mean different things. Therefore, we abstracted out amount, because it would only serve to confuse our model."),n.a.createElement("h2",null,"Picking Features"),n.a.createElement("p",{className:"normal-para"},"In addition to the features we engineered above, we also included a number of variables which were already readily available on the website. These and their descriptions are as follows:"),n.a.createElement("ul",null,n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Rating value")," - the outcome we tried to predict"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"ABV")," - the alcohol by volume of the beer"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"IBU")," - International Bittering Units, a measure of hoppiness"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Gravity difference")," - the difference between original and final gravity, an indicator of how much a beer has fermented"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Method")," - the general workflow followed to make the beer, how \u201cfrom scratch\u201d the recipe is"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Boil time")," - how long the beer is boiled for"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Efficiency")," - beer mash extraction efficiency - extracting sugars from the grain during mash"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Total weight of fermentables")," - total fermentables ingredient weight"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Base malt weight")," - total weight of base malt fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Crystal malt weight")," - total weight of crystal malt fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Roasted malt weight")," - total weight of roasted malt fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Other fermentables weight")," - total weight of other fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Extract weight")," - total weight of extract fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Sugar weight")," - total weight of sugar fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Raw fermentables weight")," - total weight of raw fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Acidulated malt weight")," - total weight of acidulated malt fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Fruit fermentables weight")," - total weight of fruit fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Gluten free malt weight")," - total weight of gluten free malt fermentables"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Pellet hops weight")," - the weight of pellet hops used"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Whole hops weight")," - the weight of whole hops used"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Plug hops weight")," - the weight of plug hops used"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Spice")," - whether the recipe contains added spices"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Water agent")," - whether the recipe contains added water agents"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Other")," - whether the recipe contains other (non-standard) ingredients"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Fining")," - whether the recipe contains added finings"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Flavor")," - whether the recipe contains added flavors"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Herbs")," - whether the recipe contains added herbs"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Yeast form")," - whether the yeast was liquid or dry"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Attenuation")," - the attenuation rate of the yeast"),n.a.createElement("li",{className:"normal-para"},n.a.createElement("b",null,"Flocculation")," - the flocculation rate of the yeast")),n.a.createElement("h2",null,"Dealing with NAs"),n.a.createElement("p",{className:"normal-para"},"The first modification we made to our data was to drop every row without a rating. These could not be used to train our model, since they did not have an outcome, and were therefore useless to our analysis. We had about 2000 rows after this operation, and most of the NA\u2019s had been eliminated. Excluding yeast information, each NA existed in a column we did not wish to keep in the final dataset (one that was not listed above). There were 12 rows containing NA\u2019s for yeast information, so we dropped them from the dataset."),n.a.createElement("h2",null,"Trends"),n.a.createElement("p",{className:"normal-para"}," To find if certain features were more related to helping predict rating values we ran a pearson correlation between rating values and all the other features. What we discovered was that there was some correlation between certain attributes and rating values but not too much. Ferm_type_fruit had an R^2 of 0.111 and other_type_fining had an R^2 of 0.109. Therefore, we made sure to include these and a few other features to build our model before refining it."),n.a.createElement("img",{src:"./img/pairplot.jpeg"}),n.a.createElement("h2",null,"Outliers"),n.a.createElement("p",{className:"normal-para"},"The data that we are using for this project was scraped from a website where all the requirements to submit a recipe or data is making an account. This fact along with the fact that there are more than 100,000 data points, there is bound to be a lack of data integrity. For example, the average IBU for all recipes is 34.76, however the largest data point is 3583.81 and the average OG for all recipes is 1.057, however the largest data point is 50.02. This would skew our predictive model a lot if we included all these outlying data points. To account for this the first thing we did was remove all the rows without a rating value. This helped reduce many outliers since recipes that were made with extreme amounts of a certain attribute or produced a severe outlier were probably never made or rated by other users."),n.a.createElement("p",{className:"normal-para"},n.a.createElement("b",null,"Before:")),n.a.createElement("img",{src:"./img/BeforeNA.jpeg"}),n.a.createElement("p",{className:"normal-para"},n.a.createElement("b",null,"After:")),n.a.createElement("img",{src:"./img/AfterNA.jpeg"}),n.a.createElement("h2",null,"The Outcome"),n.a.createElement("p",{className:"normal-para"},"Our outcome of interest was the aggregate rating for a given recipe. This rating was derived from the average of all reviews submitted for a given beer. The overall review was continuous (rounded to two decimal places), but each individual review was categorical, being one of 1, 2, 3, 4, or 5 stars. Because of this, we decided to use a classifier to predict results instead of a regressor. In order to classify our outcome, we rounded each review score to the nearest 0.25 increment. This allowed us to achieve a middle ground between the categorical nature of the individual reviews, and the continuous nature of the aggregate."),n.a.createElement("img",{src:"./img/rating_dist.jpeg"}),n.a.createElement("h2",null,"Our Work"),n.a.createElement("p",{className:"normal-para"},"For further exploration, the code for our web scraper can be found ",n.a.createElement("a",{href:"https://github.com/bdinh/LonelyBeachBoys/blob/master/brewscraper.ipynb"},"here"),". Assorted scripts are in ",n.a.createElement("a",{href:"https://github.com/bdinh/LonelyBeachBoys/tree/master/scripts"},"this")," folder. Finally, the fully prepared data can be found ",n.a.createElement("a",{href:"https://github.com/bdinh/LonelyBeachBoys/tree/master/data/prepped"},"here"),", while raw data can be found ",n.a.createElement("a",{href:"https://github.com/bdinh/LonelyBeachBoys/tree/master/data/raw"},"here"),". ")))))}}]),a}(r.Component)),P=function(e){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(d.a,null,n.a.createElement("div",null,n.a.createElement("header",null,n.a.createElement(b.a,{inverse:!0,collapseOnSelect:!0},n.a.createElement(b.a.Header,null,n.a.createElement(b.a.Brand,null,n.a.createElement(u.a,{to:"/",id:"brand"},"Hops 'n Props")),n.a.createElement(b.a.Toggle,null)),n.a.createElement(b.a.Collapse,null,n.a.createElement(g.a,{pullRight:!0},n.a.createElement(w.a,{eventKey:1,componentClass:"span"},n.a.createElement(u.a,{className:"nav-links",to:"/"},"Home")),n.a.createElement(w.a,{eventKey:2,componentClass:"span"},n.a.createElement(u.a,{className:"nav-links",to:"/explore"},"Data")),n.a.createElement(w.a,{eventKey:4,componentClass:"span"},n.a.createElement(u.a,{className:"nav-links",to:"/interact"},"Interact")),n.a.createElement(w.a,{eventKey:5,componentClass:"span"},n.a.createElement(u.a,{className:"nav-links",to:"/results"},"Results")))))),n.a.createElement("main",null,n.a.createElement(p.a,null,n.a.createElement(f.a,{exact:!0,path:"/",component:O}),n.a.createElement(f.a,{path:"/explore",component:q}),n.a.createElement(f.a,{path:"/interact",component:H}),n.a.createElement(f.a,{path:"/results",component:I}))),n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"manual-container"},n.a.createElement("span",{className:"footer-text"},n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(v.a,{xs:6},n.a.createElement("p",{className:"normal-para"},"Project by the Lonely Beach Boys"),n.a.createElement(N.a,{glyph:"star"}),n.a.createElement(N.a,{glyph:"star"}),n.a.createElement(N.a,{glyph:"star"}),n.a.createElement(N.a,{glyph:"star"}),n.a.createElement(N.a,{glyph:"star"})),n.a.createElement(v.a,{xs:6},n.a.createElement("ul",{id:"footer-ul"},n.a.createElement("li",{className:"normal-para"},n.a.createElement(u.a,{className:"nav-links",to:"/"},"Home")),n.a.createElement("li",{className:"normal-para"},n.a.createElement(u.a,{className:"nav-links",to:"/explore"},"Data")),n.a.createElement("li",{className:"normal-para"},n.a.createElement(u.a,{className:"nav-links",to:"/interact"},"Interact")),n.a.createElement("li",{className:"normal-para"},n.a.createElement(u.a,{className:"nav-links",to:"/results"},"Results"))),n.a.createElement("p",{className:"normal-para",id:"footer-links"},"Quick Links")))))))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},66:function(e,a,t){e.exports=t(137)},72:function(e,a,t){},74:function(e,a,t){},76:function(e,a,t){}},[[66,2,1]]]);
//# sourceMappingURL=main.fe435983.chunk.js.map